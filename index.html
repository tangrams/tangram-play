<!DOCTYPE html>
<!--
    Tangram: real-time WebGL rendering for OpenStreetMap

    http://github.com/tangrams/tangram
    http://mapzen.com
-->
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Tangram Play</title>

    <script type="text/javascript" src="build/js/modernizr.js"></script>

    <!-- CodeMirror-Tangram specific -->
    <link type="text/css" rel="stylesheet" href="build/css/main.css">

    <!-- Google Analytics -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-47035811-5', 'auto');
      ga('send', 'pageview');

    </script>
  </head>

  <body>
    <div class='tangram-play-container'>
        <div class='tp-menu-container'>
            <div class='tp-menu-bar'>
                <h1>Tangram Play<span class='tp-beta-tag'>BETA</span></h1>
                <ul class='tp-menu-items tp-menu-left'>
                    <li class='tp-menu-item tp-menu-button-new' data-tooltip='New scene'><i class='btm bt-file'></i><span class='tp-menu-item-label'>New</span></li>
                    <li class='tp-menu-item tp-menu-button-open' data-tooltip='Open scene'><i class='btm bt-upload'></i><span class='tp-menu-item-label'>Open</span></li>
                    <li class='tp-menu-item tp-menu-button-save' data-tooltip='Save scene'><i class='btm bt-download'></i><span class='tp-menu-item-label'>Save</span></li>
                    <li class='tp-menu-item tp-menu-item-private' data-tooltip='Share'><i class='btm bt-share'></i></li>
                </ul>
                <ul class='tp-menu-items tp-menu-right'>
                    <li class='tp-menu-item tp-menu-item-private' data-tooltip='Refresh map'><i class='btm bt-sync'></i></li>
                    <li class='tp-menu-item tp-menu-item-private' data-tooltip='Settings'><i class='btm bt-gear'></i></li>
                    <li class='tp-menu-item menu-button-pause' data-tooltip='Pause map rendering' data-tooltip-alignment='right'><i class='btb bt-pause'></i><span class='tp-menu-item-label'>Pause</span></li>
                    <li class='tp-menu-item tp-menu-button-fullscreen' data-tooltip='View fullscreen' data-tooltip-alignment='right'><i class='btm bt-maximize'></i><span class='tp-menu-item-label'>Fullscreen</span></li>
                    <li class='tp-menu-item tp-menu-button-help' data-tooltip='Documentation and help' data-tooltip-alignment='right'><i class='btm bt-question-circle'></i><span class='tp-menu-item-label'>Help</span></li>
                    <li class='tp-menu-item tp-menu-item-private tp-menu-sign-in' data-tooltip='Sign in'><span class='tp-menu-sign-in-label'>Sign in</span><i class='btm bt-sign-in'></i></li>
                </ul>
            </div>
            <div class='tp-menu-dropdowns'>
                <div class='tp-menu-dropdown tp-menu-dropdown-open'>
                    <ul>
                        <li class='tp-menu-open-file'><i class='btm bt-folder'></i><span class='tp-menu-item-label'>Open a file</span></li>
                        <li class='tp-menu-open-url'><i class='btm bt-link'></i><span class='tp-menu-item-label'>Open from URL</span></li>
                        <li class='tp-menu-open-example'><i class='btm bt-map'></i><span class='tp-menu-item-label'>Choose example</span></li>
                    </ul>
                </div>
                <div class='tp-menu-dropdown tp-menu-dropdown-save'>
                    <ul>
                        <li class='tp-menu-save-file'><i class='btm bt-folder'></i><span class='tp-menu-item-label'>Save to file</span></li>
                        <li class='tp-menu-save-gist'><i class='btm bt-code'></i><span class='tp-menu-item-label'>Save to Gist</span></li>
                        <li class='tp-menu-screenshot'><i class='btm bt-camera'></i><span class='tp-menu-item-label'>Take a screenshot</span></li>
                    </ul>
                </div>
                <div class='tp-menu-dropdown tp-menu-dropdown-help'>
                    <ul>
                        <li class='tp-menu-about'><i class='btm bt-info-circle'></i><span class='tp-menu-item-label'>About</span></li>
                        <li class='tp-menu-view-docs'><i class='btm bt-book'></i><span class='tp-menu-item-label'>Documentation</span><a href='https://mapzen.com/documentation/tangram' target='_blank'></a></li>
                        <li class='tp-menu-feedback'><i class='btm bt-comments'></i><span class='tp-menu-item-label'>Feedback</span><a href='https://github.com/tangrams/tangram-play/issues/' target='_blank'></a></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class='tp-core-container'>
            <div class='tp-map-container' id='map-container'>
                <div class='tp-map-view' id='map'></div>
                <div class='tp-map-toolbar tp-map-toolbar-collapsed' data-tooltip='Toggle map toolbar' data-tooltip-alignment='right'>
                  <div class='tp-map-toolbar-button'>
                      <i class='btm bt-globe'></i>
                  </div>
                  <div class='tp-map-toolbar-toggle'></div>
                </div>
                <div class='tp-map-toolbar tp-map-toolbar-bar' id='map-toolbar'>
                    <div class='tp-map-zoom'>
                        <div class='tp-map-zoom-indicator'>z&#8202;<span class='tp-map-zoom-quantity'></span></div>
                        <button class='tp-map-zoom-in' id='zoom-in' data-tooltip='Zoom in'><i class='btm bt-plus'></i></button>
                        <button class='tp-map-zoom-out' id='zoom-out' data-tooltip='Zoom out'><i class='btm bt-minus'></i></button>
                    </div>
                    <div class='tp-map-location-bar'>
                        <div class='tp-map-search-icon' data-tooltip='Search for location'><i class='btm bt-search'></i></div>
                        <input class='tp-map-search-input' placeholder='' spellcheck='false'>
                        <div class='tp-map-latlng-label'></div>
                        <div class='tp-map-save-icon' data-tooltip='Remember location' data-tooltip-alignment='right'><i class='btm bt-star'></i></div>
                        <div class='tp-map-bookmarks'>
                            <button class='tp-map-bookmarks-button' id='bookmarks' data-tooltip='Bookmarks' data-tooltip-alignment='right'>
                                <i class='btm bt-bookmark'></i>
                            </button>
                            <div class='tp-map-bookmarks-menu'></div>
                        </div>
                        <div class='tp-map-search-results'></div>
                    </div>
                    <div class='tp-geolocator'>
                        <button class='tp-geolocator-button' id='geolocator' data-tooltip='Locate me' data-tooltip-alignment='right'>
                            <i class='btm bt-map-arrow'></i>
                            <i class='btm bt-sync bt-spin'></i>
                        </button>
                    </div>
                    <div class='tp-map-toolbar-toggle' id='tp-map-toolbar-toggle' data-tooltip='Toogle map toolbar' data-tooltip-alignment='right'></div>
                </div>
                <div class='tp-map-loading' id='map-loading'></div>
            </div>
            <div class='tp-divider' id='divider'><span class='tp-divider-affordance'></span></div>
            <div class='tp-editor-container' id='content'>
                <div class='tp-editor' id='editor'></div>
            </div>
        </div>

        <div class='tp-overlay-container'>
            <div class='tp-shield' id='shield'></div>
            <div class='tp-modal'>
                <p class='tp-modal-text'></p>
                <div class='tp-modal-buttons'>
                    <button class='tp-modal-cancel'><i class='btm bt-times'></i> Cancel</button>
                    <button class='tp-modal-confirm'><i class='btm bt-check'></i> Continue</button>
                </div>
            </div>
            <div class='tp-modal tp-about-modal'>
                <div class='tp-modal-text tp-modal-about-text'>
                    <h4>About Tangram Play (BETA)</h4>
                    <p>
                        Tangram <span class='about-tangram-version'>(unknown version)</span>
                        <br>Leaflet <span class='about-leaflet-version'>(unknown version)</span>
                        <br>CodeMirror <span class='about-cm-version'>(unknown version)</span>
                    </p>
                    <p>
                        This is a <a href='https://mapzen.com/' target='_blank'>Mapzen</a> project and it is maintained by Patricio Gonzalez Vivo and Lou Huang.
                    </p>
                    <p>
                        <a href='https://github.com/tangrams/tangram-play' target='_blank'>View source on GitHub</a>
                    </p>
                </div>
                <div class='tp-modal-buttons'>
                    <button class='tp-modal-confirm'>Got it</button>
                </div>
            </div>
            <div class='tp-modal tp-modal-alt tp-save-gist-modal'>
                <div class='tp-modal-text tp-modal-save-gist-text'>
                    <h4>
                        Save this scene to gist
                    </h4>
                    <p>
                        This saves your Tangram scene as an anonymous gist on GitHub, so you'll have a permanent link to share publicly. Donâ€™t lose this URL! <a href='https://help.github.com/articles/about-gists/' target='_blank'>Learn more about anonymous gists</a>.
                    </p>
                </div>
                <hr>
                <div class='tp-modal-content'>
                    <label for='gist-filename'>Filename</label>
                    <input type='text' id='gist-filename' placeholder='(default: scene.yaml)'>
                    <p>
                        <label for='gist-description'>Scene description</label>
                        <input type='text' id='gist-description' placeholder='(optional description)'>
                    </p>
                    <p>
                        <label for='gist-public'>Public gist</label>
                        <input type='checkbox' id='gist-public' checked>
                    </p>
                </div>
                <div class='tp-modal-buttons'>
                    <div class='tp-modal-thinking'>
                        <i class='bts bt-spinner bt-pulse'></i> Working...
                    </div>
                    <button class='tp-modal-cancel'><i class='btm bt-times'></i> Cancel</button>
                    <button class='tp-modal-confirm'><i class='btm bt-check'></i> Save to gist</button>
                </div>
            </div>
            <div class='tp-modal tp-save-gist-success-modal'>
                <div class='tp-modal-text'></div>
                <div class='tp-modal-content'>
                    <h4>
                        Your gist has been saved.
                    </h4>
                    <p>
                        Remember this URL!
                    </p>
                    <div class='tp-input-bar'>
                        <input type='text' id='gist-saved-url'>
                        <button class='tp-gist-saved-copy-btn' data-clipboard-target='#gist-saved-url' data-tooltip='Copy to clipboard' data-tooltip-alignment='right'>
                            <i class='btm bt-copy'></i>
                        </button>
                    </div>
                </div>
                <div class='tp-modal-buttons'>
                    <button class='tp-modal-confirm'>Got it</button>
                </div>
            </div>
            <div class='tp-modal tp-modal-alt tp-example-modal'>
                <p class='tp-modal-text'></p>
                <div class='tp-modal-content tp-example-list'></div>
                <div class='tp-modal-buttons'>
                    <button class='tp-modal-cancel'><i class='btm bt-times'></i> Cancel</button>
                    <button class='tp-modal-confirm' disabled><i class='btm bt-check'></i> Open</button>
                </div>
            </div>
            <div class='tp-modal tp-modal-alt tp-open-url-modal'>
                <p class='tp-modal-text'></p>
                <div class='tp-modal-content tp-open-url-input'>
                    <input type='url' placeholder='https://' spellcheck='false' id='tp-open-url-input'>
                </div>
                <div class='tp-modal-buttons'>
                    <button id='example-cancel' class='tp-modal-cancel'><i class='btm bt-times'></i> Cancel</button>
                    <button id='example-confirm' class='tp-modal-confirm' disabled><i class='btm bt-check'></i> Open</button>
                </div>
            </div>
            <div class='tp-filedrop-container'>
                <div class='tp-filedrop-indicator'>
                    <div class='tp-filedrop-icon'><i class='btm bt-upload'></i></div>
                    <div class='tp-filedrop-label'>Drop a file here to open</div>
                </div>
            </div>
        </div>
    </div>
    <div id='mobile-message' class='mobile-message'>
        <div id='dismiss-mobile-message' class='mobile-message-close'>&#215;</div>
        <strong>Hey there!</strong> We think youâ€™re on a mobile device, but the Tangram Play editor is best suited for desktop devices. You can close this message to continue or come back later from a desktop browser. <strong>Thanks for visiting!</strong>
    </div>

    <script type='text/javascript' src='https://mapzen.com/tangram/0.6/tangram.min.js'></script>

    <!-- Glsl Sandbox in a canvas -->
    <script type='text/javascript' src='https://rawgit.com/patriciogonzalezvivo/glslCanvas/master/build/GlslCanvas.min.js'></script>

    <!-- IDE -->
    <script type="text/javascript" src="build/js/tangram-play.js"></script>
    <script>
        if (isMobile() === true) {
            document.getElementById('mobile-message').style.display = 'block';
            document.getElementById('dismiss-mobile-message').addEventListener('click', function (e) {
                document.getElementById('mobile-message').style.display = 'none';
                tangramPlay.divider.reflow();
            });
        }

        function isMobile () {
          if (/iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(navigator.userAgent.toLowerCase()))
            return true;
          else
            return false;
        };
    </script>
  </body>
</html>
